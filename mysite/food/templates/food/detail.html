{% extends 'food/base.html' %}

{% block body %}

<div class="row mt-5">
    <div class="col-md-2 offset-md-1">
        <img
            height="150px"
            width="250px"
            class="card"
            src="{{ item.item_image }}"
        >
    </div>
    <div class="col-md-4 offset-md-1">
        <h1
            style="
                font-style: italic;
            "
        >
            {{ item.item_name }}
        </h1>
        <h2
            style="
                font-style: italic;
                font-size: 1.3rem;
                text-align: justify;
            "
        >
            {{ item.item_description }}
        </h2>
        <h3>
            ${{ item.item_price }}
        </h3>
    </div>
        <div class="col-md-3 offset-md-1">
        {% if user.is_authenticated %}

            {# CUSTOMER: show Order Now #}
            {% if user.profilemodel.user_type == "CUSTOMER" %}
                <form
                    action="{% url 'food:place_order' item.id %}"
                    method="post"
                    class="d-inline"
                >
                    {% csrf_token %}
                    <input
                        type="number"
                        name="quantity"
                        value="1"
                        min="1"
                        class="form-control d-inline"
                        style="width:80px; display:inline-block; margin-right:8px;"
                    >
                    <button
                        type="submit"
                        style="width:120px"
                        class="btn btn-warning"
                    >
                        Order Now
                    </button>
                </form>

                <a
                    href="{% url 'food:home' %}"
                    style="width:80px; margin-left:8px;"
                    class="btn btn-success"
                >
                    Back
                </a>

            {# RESTAURANT: edit only #}
            {% elif user.profilemodel.user_type == "RESTAURANT" %}
                <a
                    href="{% url 'food:update' item.id %}"
                    style="width:80px"
                    class="btn btn-warning"
                >
                    Edit
                </a>
                <a
                    href="{% url 'food:home' %}"
                    style="width:80px"
                    class="btn btn-success"
                >
                    Back
                </a>

            {# ADMIN: edit + delete #}
            {% elif user.profilemodel.user_type == "ADMIN" %}
                <a
                    href="{% url 'food:update' item.id %}"
                    style="width:80px"
                    class="btn btn-warning"
                >
                    Edit
                </a>
                <a
                    href="{% url 'food:delete' item.id %}"
                    style="width:80px"
                    class="btn btn-danger"
                >
                    Delete
                </a>
                <a
                    href="{% url 'food:home' %}"
                    style="width:80px"
                    class="btn btn-success"
                >
                    Back
                </a>
            {% endif %}

        {% endif %}
    </div>

</div>

<!-- red: records -->
{% for obj in object_lh %}

    <div
        class="row mb-1">

        <div
            class="col-md-8
                offset-md-2
                bg-danger
                text-white">

                <div
                    class="row">

                    <div
                        class="col-md-3
                            text-left">

                        {{ obj.log_username }}
                    </div>

                    <div
                        class="col-md-3
                            text-left">

                        {{ obj.log_prod_code }}
                    </div>

                    <div
                        class="col-md-3
                            text-left">

                        {{ obj.log_item_name }}
                    </div>

                    <div
                        class="col-md-3
                            text-left">

                        {{ obj.log_operation_type }}
                    </div>
                </div>
        </div>

        <div
            class="col-md-2">
           
        </div>

    </div>

{% endfor %}

{% endblock %}